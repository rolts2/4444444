import{p as _0x325983,s as _0x37d867,a as _0x55e96d,r as _0x918a3b,C as _0x2d81a7,O as _0x86be72,i as _0x5a838a,c as _0x30d113,b as _0x20abc0,A as _0x5ad9d1,x as _0x337f19,d as _0x104d43,E as _0x191568,W as _0xb6b499,S as _0x55c57a,e as _0x5ab740,M as _0x1fed9e,R as _0x591b3a}from'./index-BakDKFWL.js';import{f as _0x243ec8,V as _0x917169,Y as _0x40c05e}from'./index-BakDKFWL.js';const i=_0x325983({'status':'uninitialized'}),g={'state':i,'subscribeKey'(_0x2ca549,_0x270b0a){var _0x45c6f2={'yhedV':function(_0x35efbd,_0x11961b,_0x34bb51,_0x1ed8b1){return _0x35efbd(_0x11961b,_0x34bb51,_0x1ed8b1);}};return _0x45c6f2['yhedV'](_0x37d867,i,_0x2ca549,_0x270b0a);},'subscribe'(_0xba889c){var _0x3eab66={'fiPqw':function(_0x4747b0,_0x4029c1,_0x3a56f3){return _0x4747b0(_0x4029c1,_0x3a56f3);}};return _0x3eab66['fiPqw'](_0x55e96d,i,()=>_0xba889c(i));},'_getClient'(){var _0x145e56={'fRcdR':'SIWEController\x20client\x20not\x20set'};if(!i['_client'])throw new Error(_0x145e56['fRcdR']);return i['_client'];},async 'getNonce'(_0x442a26){const _0x5bfd9b=await this['_getClient']()['getNonce'](_0x442a26);return this['setNonce'](_0x5bfd9b),_0x5bfd9b;},async 'getSession'(){var _0x2596bb={'aISqP':'success','FKRgr':function(_0x218d4b,_0xdb56d9){return _0x218d4b||_0xdb56d9;}};try{const _0x35e4f4=await this['_getClient']()['getSession']();return _0x35e4f4&&(this['setSession'](_0x35e4f4),this['setStatus'](_0x2596bb['aISqP'])),_0x2596bb['FKRgr'](_0x35e4f4,void 0x0);}catch{return;}},'createMessage'(_0x29eadc){const _0x13f91b=this['_getClient']()['createMessage'](_0x29eadc);return this['setMessage'](_0x13f91b),_0x13f91b;},async 'verifyMessage'(_0x36a560){return await this['_getClient']()['verifyMessage'](_0x36a560);},async 'signIn'(){return await this['_getClient']()['signIn']();},async 'signOut'(){var _0x464d91={'GDiBl':'ready','OktsB':function(_0x4c6082,_0x561d20){return _0x4c6082==_0x561d20;}},_0x37a965;const _0x4afcf0=this['_getClient']();await _0x4afcf0['signOut'](),this['setStatus'](_0x464d91['GDiBl']),this['setSession'](void 0x0),_0x464d91['OktsB'](_0x37a965=_0x4afcf0['onSignOut'],null)||_0x37a965['call'](_0x4afcf0);},'onSignIn'(_0x3c4d13){var _0x38b85a={'ioUQD':function(_0x4831f9,_0x132013){return _0x4831f9==_0x132013;}},_0x26a7c2;const _0x2c62f4=this['_getClient']();_0x38b85a['ioUQD'](_0x26a7c2=_0x2c62f4['onSignIn'],null)||_0x26a7c2['call'](_0x2c62f4,_0x3c4d13);},'onSignOut'(){var _0x8e0871={'POSzq':function(_0x2ce608,_0x3eabcb){return _0x2ce608==_0x3eabcb;}},_0x1fe63e;const _0x4e2a22=this['_getClient']();_0x8e0871['POSzq'](_0x1fe63e=_0x4e2a22['onSignOut'],null)||_0x1fe63e['call'](_0x4e2a22);},async 'setSIWEClient'(_0x310b93){var _0x1d4d91={'fzwRv':function(_0x1a3e61,_0xebfebc){return _0x1a3e61(_0xebfebc);},'dSYtf':'success','deBSg':'ready','lfjFt':'siweStatus','YJiUX':'eip155'};i['_client']=_0x1d4d91['fzwRv'](_0x918a3b,_0x310b93),i['session']=await this['getSession'](),i['status']=i['session']?_0x1d4d91['dSYtf']:_0x1d4d91['deBSg'],_0x2d81a7['setAccountProp'](_0x1d4d91['lfjFt'],i['status'],_0x1d4d91['YJiUX']),_0x86be72['setIsSiweEnabled'](_0x310b93['options']['enabled']);},'setNonce'(_0x2628bf){i['nonce']=_0x2628bf;},'setStatus'(_0x1875fa){var _0x1fc916={'EPSkR':'siweStatus','xPiQb':'eip155'};i['status']=_0x1875fa,_0x2d81a7['setAccountProp'](_0x1fc916['EPSkR'],i['status'],_0x1fc916['xPiQb']);},'setMessage'(_0x35ab08){i['message']=_0x35ab08;},'setSession'(_0x3dbc6a){var _0xb8177b={'FkwYR':'success','stqdA':'ready','Vhpmx':'siweStatus','xLHOq':'eip155'};i['session']=_0x3dbc6a,i['status']=_0x3dbc6a?_0xb8177b['FkwYR']:_0xb8177b['stqdA'],_0x2d81a7['setAccountProp'](_0xb8177b['Vhpmx'],i['status'],_0xb8177b['xLHOq']);}},R=_0x5a838a`
  :host {
    display: flex;
    justify-content: center;
    gap: var(--wui-spacing-2xl);
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var U=function(_0x4f6e37,_0x258a1e,_0x1a5b4c,_0x102fee){var _0x488dd9={'oMzdB':function(_0x4777bf,_0x315dcd){return _0x4777bf<_0x315dcd;},'aZfhY':function(_0x5d7ff9,_0x354f17){return _0x5d7ff9===_0x354f17;},'wxIjg':function(_0x1db661,_0x35970d){return _0x1db661==_0x35970d;},'LjVbf':'object','LCWKr':'function','FocTM':function(_0x4ccea8,_0x2f01f1){return _0x4ccea8-_0x2f01f1;},'GVYVC':function(_0x475427,_0x28f56f){return _0x475427>=_0x28f56f;},'qiWIu':function(_0x2ce345,_0x58f4dd){return _0x2ce345(_0x58f4dd);},'mrhRH':function(_0x24d300,_0x35fd35){return _0x24d300>_0x35fd35;},'VWLkh':function(_0x27863a,_0x555454,_0x598fa6,_0x127778){return _0x27863a(_0x555454,_0x598fa6,_0x127778);},'LduzR':function(_0x3f5c65,_0x3e12d9,_0x20fbd2){return _0x3f5c65(_0x3e12d9,_0x20fbd2);},'cFASN':function(_0x5de858,_0x9f1490){return _0x5de858>_0x9f1490;}},_0x18f328=arguments['length'],_0x24bc98=_0x488dd9['oMzdB'](_0x18f328,0x3)?_0x258a1e:_0x488dd9['aZfhY'](_0x102fee,null)?_0x102fee=Object['getOwnPropertyDescriptor'](_0x258a1e,_0x1a5b4c):_0x102fee,_0x794fad;if(_0x488dd9['wxIjg'](typeof Reflect,_0x488dd9['LjVbf'])&&_0x488dd9['wxIjg'](typeof Reflect['decorate'],_0x488dd9['LCWKr']))_0x24bc98=Reflect['decorate'](_0x4f6e37,_0x258a1e,_0x1a5b4c,_0x102fee);else{for(var _0xba77a1=_0x488dd9['FocTM'](_0x4f6e37['length'],0x1);_0x488dd9['GVYVC'](_0xba77a1,0x0);_0xba77a1--)(_0x794fad=_0x4f6e37[_0xba77a1])&&(_0x24bc98=(_0x488dd9['oMzdB'](_0x18f328,0x3)?_0x488dd9['qiWIu'](_0x794fad,_0x24bc98):_0x488dd9['mrhRH'](_0x18f328,0x3)?_0x488dd9['VWLkh'](_0x794fad,_0x258a1e,_0x1a5b4c,_0x24bc98):_0x488dd9['LduzR'](_0x794fad,_0x258a1e,_0x1a5b4c))||_0x24bc98);}return _0x488dd9['cFASN'](_0x18f328,0x3)&&_0x24bc98&&Object['defineProperty'](_0x258a1e,_0x1a5b4c,_0x24bc98),_0x24bc98;};let f=class extends _0x20abc0{constructor(){var _0x3b09c3={'PcCIR':function(_0x5940fb,_0x5c3e00){return _0x5940fb==_0x5c3e00;}},_0x338e72,_0x33fe73;super(...arguments),this['dappImageUrl']=_0x3b09c3['PcCIR'](_0x338e72=_0x86be72['state']['metadata'],null)?void 0x0:_0x338e72['icons'],this['walletImageUrl']=_0x3b09c3['PcCIR'](_0x33fe73=_0x5ad9d1['state']['connectedWalletInfo'],null)?void 0x0:_0x33fe73['icon'];}['firstUpdated'](){var _0x47cfa0={'yrDdV':function(_0x2b4cb5,_0x27e752){return _0x2b4cb5==_0x27e752;},'kgIAJ':'wui-visual-thumbnail','woroQ':function(_0x204262,_0x382626){return _0x204262!=_0x382626;},'kucPK':'translate(18px)','sexcY':function(_0x194e26,_0x2def53){return _0x194e26!=_0x2def53;},'XsIzV':'translate(-18px)'},_0x108232;const _0x131542=_0x47cfa0['yrDdV'](_0x108232=this['shadowRoot'],null)?void 0x0:_0x108232['querySelectorAll'](_0x47cfa0['kgIAJ']);_0x47cfa0['woroQ'](_0x131542,null)&&_0x131542[0x0]&&this['createAnimation'](_0x131542[0x0],_0x47cfa0['kucPK']),_0x47cfa0['sexcY'](_0x131542,null)&&_0x131542[0x1]&&this['createAnimation'](_0x131542[0x1],_0x47cfa0['XsIzV']);}['render'](){var _0x453e55={'YSQZx':function(_0x542053,_0x33ac32){return _0x542053==_0x33ac32;}},_0x380680;return _0x337f19`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0x0}
        .imageSrc=${_0x453e55['YSQZx'](_0x380680=this['dappImageUrl'],null)?void 0x0:_0x380680[0x0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this['walletImageUrl']}></wui-visual-thumbnail>
    `;}['createAnimation'](_0x54e986,_0x37626c){var _0x455631={'alrNO':'translateX(0px)','gtuFR':'cubic-bezier(0.56,\x200,\x200.48,\x201)','BhHHk':'alternate','xNYnp':function(_0x48b548,_0x21ce24){return _0x48b548/_0x21ce24;}};_0x54e986['animate']([{'transform':_0x455631['alrNO']},{'transform':_0x37626c}],{'duration':0x640,'easing':_0x455631['gtuFR'],'direction':_0x455631['BhHHk'],'iterations':_0x455631['xNYnp'](0x1,0x0)});}};f['styles']=R,f=U([_0x30d113('w3m-connecting-siwe')],f);var S=function(_0x82e98e,_0x59285f,_0x66f321,_0x19a442){var _0x5b8463={'lZNmL':'5|0|1|4|6|3|2','zfptC':function(_0x5c901b,_0xb5e4d8,_0x4456af){return _0x5c901b(_0xb5e4d8,_0x4456af);},'gizRJ':function(_0x224c19,_0x49966b){return _0x224c19>_0x49966b;},'HjkOu':function(_0x53b6dd,_0xafa522){return _0x53b6dd==_0xafa522;},'ODUoV':'object','Nqdmj':'function','aToUv':function(_0x515569,_0x2a342d){return _0x515569-_0x2a342d;},'sjpaI':function(_0xccb54f,_0x3b105c){return _0xccb54f>=_0x3b105c;},'FhQsX':function(_0x4a35f0,_0x30d31e){return _0x4a35f0<_0x30d31e;},'FPPjJ':function(_0x181f9d,_0x4fbf76){return _0x181f9d(_0x4fbf76);},'iDiHC':function(_0x180cb2,_0x5626f8){return _0x180cb2>_0x5626f8;},'wtfgU':function(_0x31a58c,_0x1d3d1e,_0x11aeb1,_0x369571){return _0x31a58c(_0x1d3d1e,_0x11aeb1,_0x369571);},'AHxVV':function(_0x2865a2){return _0x2865a2();},'linsi':'(((.+)+)+)+$','WChwV':function(_0x5bd175,_0x15cf1d){return _0x5bd175===_0x15cf1d;}},_0x2856a5=_0x5b8463['lZNmL']['split']('|'),_0x2bd9d8=0x0;while(!![]){switch(_0x2856a5[_0x2bd9d8++]){case'0':var _0x7e5718=(function(){var _0x2bcfdc=!![];return function(_0x3285dc,_0x35d7bb){var _0x51da6e=_0x2bcfdc?function(){if(_0x35d7bb){var _0x43f015=_0x35d7bb['apply'](_0x3285dc,arguments);return _0x35d7bb=null,_0x43f015;}}:function(){};return _0x2bcfdc=![],_0x51da6e;};}());continue;case'1':var _0x1586d8=_0x5b8463['zfptC'](_0x7e5718,this,function(){return _0x1586d8['toString']()['search'](_0x277959['wKmZH'])['toString']()['constructor'](_0x1586d8)['search'](_0x277959['wKmZH']);});continue;case'2':return _0x5b8463['gizRJ'](_0x5a945b,0x3)&&_0x1ec5d8&&Object['defineProperty'](_0x59285f,_0x66f321,_0x1ec5d8),_0x1ec5d8;case'3':if(_0x5b8463['HjkOu'](typeof Reflect,_0x5b8463['ODUoV'])&&_0x5b8463['HjkOu'](typeof Reflect['decorate'],_0x5b8463['Nqdmj']))_0x1ec5d8=Reflect['decorate'](_0x82e98e,_0x59285f,_0x66f321,_0x19a442);else{for(var _0x2a5e00=_0x5b8463['aToUv'](_0x82e98e['length'],0x1);_0x5b8463['sjpaI'](_0x2a5e00,0x0);_0x2a5e00--)(_0x3d7117=_0x82e98e[_0x2a5e00])&&(_0x1ec5d8=(_0x5b8463['FhQsX'](_0x5a945b,0x3)?_0x5b8463['FPPjJ'](_0x3d7117,_0x1ec5d8):_0x5b8463['iDiHC'](_0x5a945b,0x3)?_0x5b8463['wtfgU'](_0x3d7117,_0x59285f,_0x66f321,_0x1ec5d8):_0x5b8463['zfptC'](_0x3d7117,_0x59285f,_0x66f321))||_0x1ec5d8);}continue;case'4':_0x5b8463['AHxVV'](_0x1586d8);continue;case'5':var _0x277959={'wKmZH':_0x5b8463['linsi']};continue;case'6':var _0x5a945b=arguments['length'],_0x1ec5d8=_0x5b8463['FhQsX'](_0x5a945b,0x3)?_0x59285f:_0x5b8463['WChwV'](_0x19a442,null)?_0x19a442=Object['getOwnPropertyDescriptor'](_0x59285f,_0x66f321):_0x19a442,_0x3d7117;continue;}break;}};let w=class extends _0x20abc0{constructor(){var _0x17a36e={'ZaaHb':function(_0x2f00bb,_0x3df357){return _0x2f00bb==_0x3df357;}},_0x8d545f;super(...arguments),this['dappName']=_0x17a36e['ZaaHb'](_0x8d545f=_0x86be72['state']['metadata'],null)?void 0x0:_0x8d545f['name'],this['isSigning']=!0x1,this['isCancelling']=!0x1;}['render'](){var _0x154eae={'jUlzR':'2xl','sQcLw':'xxl','CYJkh':'4xl','oGMKz':'Dapp','VjUHU':'3xl','UnzQD':'Signing...','TrmBj':'Sign'};return _0x337f19`
      <wui-flex justifyContent="center" .padding=${[_0x154eae['jUlzR'],'0',_0x154eae['sQcLw'],'0']}>
        <w3m-connecting-siwe></w3m-connecting-siwe>
      </wui-flex>
      <wui-flex
        .padding=${['0',_0x154eae['CYJkh'],'l',_0x154eae['CYJkh']]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100"
          >${this['dappName']??_0x154eae['oGMKz']} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex
        .padding=${['0',_0x154eae['VjUHU'],'l',_0x154eae['VjUHU']]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="small-400" align="center" color="fg-200"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${['l','xl','xl','xl']} gap="s" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral"
          ?loading=${this['isCancelling']}
          @click=${this['onCancel']['bind'](this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          Cancel
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="main"
          @click=${this['onSign']['bind'](this)}
          ?loading=${this['isSigning']}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this['isSigning']?_0x154eae['UnzQD']:_0x154eae['TrmBj']}
        </wui-button>
      </wui-flex>
    `;}async['onSign'](){var _0x2562ba={'WdwBm':'CLICK_SIGN_SIWE_MESSAGE','qnqlj':'track','USGxG':function(_0x4a7d02,_0x18b8bc){return _0x4a7d02==_0x18b8bc;},'KFwYZ':function(_0x17186e,_0x4397c1){return _0x17186e===_0x4397c1;},'RhGpN':'loading','Lfxdh':'success','ecTPn':'SIWE_AUTH_SUCCESS','IUYVw':function(_0x11a10a,_0x23f6cc){return _0x11a10a==_0x23f6cc;},'ClHDI':function(_0x44dd22,_0x2b02fd){return _0x44dd22===_0x2b02fd;},'uLSPa':function(_0x54c418,_0x3edac7){return _0x54c418===_0x3edac7;},'rVbUw':'This\x20application\x20might\x20not\x20support\x20Smart\x20Accounts','EtSFR':'Signature\x20declined','kMAid':'error','Kxmla':'SIWE_AUTH_ERROR','BEyhN':function(_0xd5a6d7,_0xedcac5){return _0xd5a6d7==_0xedcac5;}},_0x39e03c,_0x1f2891,_0x23ee99;this['isSigning']=!0x0,_0x191568['sendEvent']({'event':_0x2562ba['WdwBm'],'type':_0x2562ba['qnqlj'],'properties':{'network':(_0x2562ba['USGxG'](_0x39e03c=_0x2d81a7['state']['activeCaipNetwork'],null)?void 0x0:_0x39e03c['caipNetworkId'])||'','isSmartAccount':_0x2562ba['KFwYZ'](_0x5ad9d1['state']['preferredAccountType'],_0xb6b499['ACCOUNT_TYPES']['SMART_ACCOUNT'])}});try{g['setStatus'](_0x2562ba['RhGpN']);const _0x4f376b=await g['signIn']();return g['setStatus'](_0x2562ba['Lfxdh']),_0x191568['sendEvent']({'event':_0x2562ba['ecTPn'],'type':_0x2562ba['qnqlj'],'properties':{'network':(_0x2562ba['IUYVw'](_0x1f2891=_0x2d81a7['state']['activeCaipNetwork'],null)?void 0x0:_0x1f2891['caipNetworkId'])||'','isSmartAccount':_0x2562ba['ClHDI'](_0x5ad9d1['state']['preferredAccountType'],_0xb6b499['ACCOUNT_TYPES']['SMART_ACCOUNT'])}}),_0x4f376b;}catch{const _0x3d32e6=_0x2562ba['uLSPa'](_0x5ad9d1['state']['preferredAccountType'],_0xb6b499['ACCOUNT_TYPES']['SMART_ACCOUNT']);return _0x3d32e6?_0x55c57a['showError'](_0x2562ba['rVbUw']):_0x55c57a['showError'](_0x2562ba['EtSFR']),g['setStatus'](_0x2562ba['kMAid']),_0x191568['sendEvent']({'event':_0x2562ba['Kxmla'],'type':_0x2562ba['qnqlj'],'properties':{'network':(_0x2562ba['BEyhN'](_0x23ee99=_0x2d81a7['state']['activeCaipNetwork'],null)?void 0x0:_0x23ee99['caipNetworkId'])||'','isSmartAccount':_0x3d32e6}});}finally{this['isSigning']=!0x1;}}async['onCancel'](){var _0x48d667={'RFhPO':'Connect','FPNSk':'CLICK_CANCEL_SIWE','WFpla':'track','tiPhb':function(_0xf8ef53,_0x2a301b){return _0xf8ef53==_0x2a301b;},'gPony':function(_0x462c07,_0x4cff75){return _0x462c07===_0x4cff75;}},_0x5b4a5d;this['isCancelling']=!0x0,_0x2d81a7['state']['activeCaipAddress']?(await _0x5ab740['disconnect'](),_0x1fed9e['close']()):_0x591b3a['push'](_0x48d667['RFhPO']),this['isCancelling']=!0x1,_0x191568['sendEvent']({'event':_0x48d667['FPNSk'],'type':_0x48d667['WFpla'],'properties':{'network':(_0x48d667['tiPhb'](_0x5b4a5d=_0x2d81a7['state']['activeCaipNetwork'],null)?void 0x0:_0x5b4a5d['caipNetworkId'])||'','isSmartAccount':_0x48d667['gPony'](_0x5ad9d1['state']['preferredAccountType'],_0xb6b499['ACCOUNT_TYPES']['SMART_ACCOUNT'])}});}};S([_0x104d43()],w['prototype'],'isSigning',void 0x0),S([_0x104d43()],w['prototype'],'isCancelling',void 0x0),w=S([_0x30d113('w3m-connecting-siwe-view')],w);export{g as SIWEController,f as W3mConnectingSiwe,w as W3mConnectingSiweView,_0x243ec8 as formatMessage,_0x917169 as getDidAddress,_0x40c05e as getDidChainId};